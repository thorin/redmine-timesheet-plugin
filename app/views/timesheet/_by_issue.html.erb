<table class="list issues">
  <thead>
    <th width="2%">
      <%= link_to image_tag('toggle_check.png'), {}, :onclick => 'toggleIssuesSelection($(this).closest("table")); return false;',
                                                           :title => "#{l(:button_check_all)}/#{l(:button_uncheck_all)}", :class => 'toggle-all' %>
    </th>
    <th width="2%">&nbsp;</th>
    <th width="8%"><%= l(:label_date) %></th>
    <th width="10%"><%= l(:label_member) %></th>
    <th width="45%"><%= l(:label_issue) %> / <%= l(:field_comments) %></th>
    <th width="10%"><%= l(:field_hours) %>
    <% Redmine::Hook.call_hook(:plugin_timesheet_views_timesheet_group_header, { }) %>
    <th align="center"></th>
  </thead>
  <tbody>
    <%= render :partial => "issue_time_entries", :collection => entry[:issues].try(:to_a) %>
  </tbody>
</table>
<br />
<script type="text/javascript">
function toggleTimeEntries(id) {
$('.issue-time-entry-' + id).toggle();
$('.toggle-' + id).toggle();
}

/*
 * Checks all the Time Entries under issue_id
 */
function toggleTimeEntriesSelection(issue_id) {
    $('.issue-time-entry-' + issue_id).each(function(index, element) {
        toggleIssuesSelection(element);
    });
}

</script>
